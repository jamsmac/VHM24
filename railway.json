{
  "$schema": "https://railway.app/schema.json",
  "build": {
    "builder": "dockerfile",
    "buildCommand": "pnpm install && pnpm build"
  },
  "deploy": {
    "startCommand": "pnpm start",
    "restartPolicyMaxRetries": 5,
    "restartPolicyWindowSeconds": 60
  },
  "environment": {
    "NODE_ENV": "production",
    "NODE_OPTIONS": "--max-old-space-size=512"
  },
  "healthCheck": {
    "path": "/api/health",
    "interval": 30,
    "timeout": 10,
    "successThreshold": 1,
    "failureThreshold": 3
  },
  "scaling": {
    "minReplicas": 2,
    "maxReplicas": 5,
    "cpuThreshold": 70,
    "memoryThreshold": 80
  },
  "networking": {
    "port": 3000,
    "protocol": "http",
    "ssl": true,
    "customDomain": "vendhub.yourdomain.com"
  },
  "monitoring": {
    "metrics": true,
    "logging": true,
    "alerts": [
      {
        "metric": "cpu",
        "threshold": 80,
        "duration": 300,
        "action": "scale"
      },
      {
        "metric": "memory",
        "threshold": 85,
        "duration": 300,
        "action": "scale"
      },
      {
        "metric": "errorRate",
        "threshold": 5,
        "duration": 60,
        "action": "alert"
      },
      {
        "metric": "responseTime",
        "threshold": 5000,
        "duration": 300,
        "action": "alert"
      }
    ]
  }
}
