# VendHub Manager - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ü–ª–∞–Ω –î–æ—Ä–∞–±–æ—Ç–æ–∫ –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

> **–í–µ—Ä—Å–∏—è**: 1.0.0
> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2026-01-04
> **–û–±—â–∏–π –æ–±—ä—ë–º —Ä–∞–±–æ—Ç**: ~720 —á–∞—Å–æ–≤
> **–ì–æ—Ä–∏–∑–æ–Ω—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**: 16 –Ω–µ–¥–µ–ª—å (4 –º–µ—Å—è—Ü–∞)

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–æ–±–∑–æ—Ä-—Ç–µ–∫—É—â–µ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
2. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã (Sprint 0)](#sprint-0-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–±–ª–æ–∫–µ—Ä—ã)
3. [–§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è](#—Ñ–∞–∑–∞-1-—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è-–Ω–µ–¥–µ–ª–∏-1-2)
4. [–§–∞–∑–∞ 2: UI/UX –∏ –û—Ñ–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#—Ñ–∞–∑–∞-2-uiux-–∏-–æ—Ñ–∏—Å–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–Ω–µ–¥–µ–ª–∏-3-4)
5. [–§–∞–∑–∞ 3: Mobile App](#—Ñ–∞–∑–∞-3-mobile-app-–Ω–µ–¥–µ–ª–∏-5-8)
6. [–§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏](#—Ñ–∞–∑–∞-4-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏-—Å-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏-–Ω–µ–¥–µ–ª–∏-9-12)
7. [–§–∞–∑–∞ 5: Advanced Features](#—Ñ–∞–∑–∞-5-advanced-features-–Ω–µ–¥–µ–ª–∏-13-16)
8. [–ú–∞—Ç—Ä–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#–º–∞—Ç—Ä–∏—Ü–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
9. [–†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è](#—Ä–∏—Å–∫–∏-–∏-–º–∏—Ç–∏–≥–∞—Ü–∏—è)
10. [–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞](#–º–µ—Ç—Ä–∏–∫–∏-—É—Å–ø–µ—Ö–∞)

---

## –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –ë–ª–æ–∫–µ—Ä—ã |
|-----------|------------|--------|---------|
| Backend API | 95% | ‚úÖ Production Ready | - |
| Frontend Web | 62% | üî¥ Active Dev | TypeScript –æ—à–∏–±–∫–∏, —Ä–æ–ª–∏ |
| Mobile App | 25% | üü† Foundation | –ù–µ—Ç —ç–∫—Ä–∞–Ω–æ–≤ –∑–∞–¥–∞—á |
| Telegram Bot | 80% | üü° Needs Commands | /commissions, /sales |
| Commission System | 100% | ‚úÖ Complete | - |
| DevOps/Infra | 90% | ‚úÖ Railway Ready | - |
| Testing | 65% | üü† Needs E2E | Playwright –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| Documentation | 85% | ‚úÖ Good | - |

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤

| –î–æ–∫—É–º–µ–Ω—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----------|------------------|-----------|
| `.claude/ACTION_PLAN_100.md` | 45+ –∑–∞–¥–∞—á | HIGH |
| `.claude/phase-1-mvp-checklist.md` | 30+ –∑–∞–¥–∞—á | HIGH |
| `docs/231225/VHM24-MASTER-PLAN.md` | 50+ –∑–∞–¥–∞—á | MEDIUM |
| `docs/architecture/roadmap.md` | 60+ –∑–∞–¥–∞—á | LOW |
| `.claude/INTEGRATION_INSTRUCTIONS.md` | 25+ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π | MEDIUM |
| `docs/telegram/TELEGRAM_ANALYSIS_PROMPT.md` | 15+ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π | MEDIUM |

---

## Sprint 0: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ë–ª–æ–∫–µ—Ä—ã

**–°—Ä–æ–∫**: 1-2 –¥–Ω—è
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 5 —á–∞—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ BLOCKER

### B.1 –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–æ–ª–µ–π Frontend/Backend

**–ü—Ä–æ–±–ª–µ–º–∞**: Frontend –∏–º–µ–µ—Ç 5 —Ä–æ–ª–µ–π, Backend - 7 —Ä–æ–ª–µ–π

| Backend (–ø—Ä–∞–≤–∏–ª—å–Ω–æ) | Frontend (—Ç–µ–∫—É—â–µ–µ) |
|---------------------|-------------------|
| Owner | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| Admin | ‚úÖ Admin |
| Manager | ‚úÖ Manager |
| Operator | ‚úÖ Operator |
| Collector | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| Technician | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| Viewer | ‚úÖ Viewer |
| - | ‚ùå Accountant (–ª–∏—à–Ω–∏–π) |

**–§–∞–π–ª**: `frontend/src/types/users.ts`

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
// –ë—ã–ª–æ:
export type UserRole = 'admin' | 'manager' | 'operator' | 'viewer' | 'accountant';

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
export type UserRole = 'owner' | 'admin' | 'manager' | 'operator' | 'collector' | 'technician' | 'viewer';
```

**–ó–∞–¥–∞—á–∏**:
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/types/users.ts` (15 –º–∏–Ω)
- [ ] –ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Accountant (30 –º–∏–Ω)
- [ ] –î–æ–±–∞–≤–∏—Ç—å labels –∏ colors –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–æ–ª–µ–π (15 –º–∏–Ω)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Ä–æ–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ö (30 –º–∏–Ω)

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 1.5 —á–∞—Å–∞

---

### B.2 –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞ (RUB ‚Üí UZS)

**–ü—Ä–æ–±–ª–µ–º–∞**: Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RUB (‚ÇΩ), –Ω—É–∂–Ω–æ UZS (—Å—É–º)

**–§–∞–π–ª**: `frontend/src/lib/utils.ts` (—Å—Ç—Ä–æ–∫–∏ 26-31)

**–†–µ—à–µ–Ω–∏–µ**:
```typescript
// –ë—ã–ª–æ:
export function formatCurrency(amount: number): string {
  return new Intl.NumberFormat('ru-RU', {
    style: 'currency',
    currency: 'RUB',
  }).format(amount);
}

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
export function formatCurrency(amount: number): string {
  return new Intl.NumberFormat('uz-UZ', {
    style: 'currency',
    currency: 'UZS',
    maximumFractionDigits: 0,
  }).format(amount);
}
```

**–ó–∞–¥–∞—á–∏**:
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `formatCurrency()` –≤ utils.ts (15 –º–∏–Ω)
- [ ] –ù–∞–π—Ç–∏ –≤—Å–µ ‚ÇΩ —Å–∏–º–≤–æ–ª—ã –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ "—Å—É–º" (30 –º–∏–Ω)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–∞–ª—é—Ç (15 –º–∏–Ω)

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 1 —á–∞—Å

---

### B.3 Sidebar –±–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: 25 –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é –Ω–µ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã

**–§–∞–π–ª**: `frontend/src/components/layout/Sidebar.tsx`

**–¢—Ä–µ–±—É–µ–º—ã–µ –≥—Ä—É–ø–ø—ã**:
```
üìä –û–±–∑–æ—Ä
  - Dashboard
  - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

üè≠ –ê–≤—Ç–æ–º–∞—Ç—ã
  - –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–æ–≤
  - –ö–∞—Ä—Ç–∞
  - QR-–∫–æ–¥—ã

üìã –û–ø–µ—Ä–∞—Ü–∏–∏
  - –ó–∞–¥–∞—á–∏
  - –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã
  - –ñ–∞–ª–æ–±—ã

üì¶ –°–∫–ª–∞–¥
  - –û—Å—Ç–∞—Ç–∫–∏
  - –¢–æ–≤–∞—Ä—ã
  - –†–µ—Ü–µ–ø—Ç—ã
  - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

üí∞ –§–∏–Ω–∞–Ω—Å—ã
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  - –ö–æ–º–∏—Å—Å–∏–∏
  - –û—Ç—á—ë—Ç—ã

üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –ê–ª–µ—Ä—Ç—ã
  - Telegram

‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  - –ê—É–¥–∏—Ç
```

**–ó–∞–¥–∞—á–∏**:
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SidebarGroup (1 —á–∞—Å)
- [ ] –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é (1 —á–∞—Å)
- [ ] –î–æ–±–∞–≤–∏—Ç—å collapse/expand —Å localStorage (30 –º–∏–Ω)

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 2.5 —á–∞—Å–∞

---

## –§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–ù–µ–¥–µ–ª–∏ 1-2)

**–°—Ä–æ–∫**: 2 –Ω–µ–¥–µ–ª–∏
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 40 —á–∞—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH

### 1.1 Backend –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|------|-----------|
| –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π test suite | 2 | HIGH |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ failing tests | 4 | HIGH |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API endpoints —á–µ—Ä–µ–∑ Swagger | 2 | HIGH |
| –í–∞–ª–∏–¥–∞—Ü–∏—è BullMQ jobs | 2 | HIGH |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å commission calculations | 2 | HIGH |

**–ö–æ–º–∞–Ω–¥—ã**:
```bash
cd backend
npm run test
npm run test:cov
npm run build
```

**Acceptance Criteria**:
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (0 failures)
- [ ] Coverage > 70%
- [ ] Build —É—Å–ø–µ—à–Ω—ã–π
- [ ] Swagger –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ /api/docs

---

### 1.2 Frontend –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|------|-----------|
| npm run build –±–µ–∑ –æ—à–∏–±–æ–∫ | 2 | HIGH |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å TypeScript –æ—à–∏–±–∫–∏ | 4 | HIGH |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ä–æ—É—Ç—ã | 2 | MEDIUM |
| –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º | 2 | MEDIUM |
| Real-time updates | 2 | MEDIUM |

**–ö–æ–º–∞–Ω–¥—ã**:
```bash
cd frontend
npm run build
npm run lint
npm run type-check
```

**Acceptance Criteria**:
- [ ] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] 0 TypeScript errors
- [ ] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

---

### 1.3 Security Audit

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|------|-----------|
| npm audit backend | 1 | HIGH |
| npm audit frontend | 1 | HIGH |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å auth –Ω–∞ –≤—Å–µ—Ö endpoints | 2 | HIGH |
| –¢–µ—Å—Ç rate limiting | 1 | HIGH |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS | 1 | MEDIUM |

**–ö–æ–º–∞–Ω–¥—ã**:
```bash
cd backend && npm audit
cd frontend && npm audit
```

**Acceptance Criteria**:
- [ ] 0 high/critical vulnerabilities
- [ ] –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç auth (–∫—Ä–æ–º–µ public)
- [ ] Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç (429 –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏)

---

### 1.4 Environment Setup

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|------|-----------|
| –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å .env.production | 2 | HIGH |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å secrets –≤ Railway | 1 | HIGH |
| –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ | 1 | HIGH |
| –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis | 1 | MEDIUM |

**Acceptance Criteria**:
- [ ] .env.production —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] Railway secrets —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ

---

## –§–∞–∑–∞ 2: UI/UX –∏ –û—Ñ–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ù–µ–¥–µ–ª–∏ 3-4)

**–°—Ä–æ–∫**: 2 –Ω–µ–¥–µ–ª–∏
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 50 —á–∞—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† MEDIUM-HIGH

### 2.1 Excel Export Component

**–§–∞–π–ª**: `frontend/src/components/ui/ExportButton.tsx`

```typescript
// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
interface ExportButtonProps {
  data: any[];
  columns: ColumnDef[];
  filename: string;
  formats?: ('xlsx' | 'csv')[];
}
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `npm install xlsx`

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞—à–∏–Ω
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 4 —á–∞—Å–∞

---

### 2.2 InlineCreateSelect Component

**–§–∞–π–ª**: `frontend/src/components/ui/InlineCreateSelect.tsx`

```typescript
// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
interface InlineCreateSelectProps<T> {
  options: T[];
  onSelect: (value: T) => void;
  onCreate: (name: string) => Promise<T>;
  placeholder?: string;
  createLabel?: string; // "+ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π"
}
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—à–∏–Ω—ã (–ª–æ–∫–∞—Ü–∏–∏)
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ (–º–∞—à–∏–Ω—ã)
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 4 —á–∞—Å–∞

---

### 2.3 Product Tour / Onboarding

**–§–∞–π–ª**: `frontend/src/components/onboarding/ProductTour.tsx`

**–®–∞–≥–∏ —Ç—É—Ä–∞**:
1. Sidebar –Ω–∞–≤–∏–≥–∞—Ü–∏—è
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π –º–∞—à–∏–Ω—ã
3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –∑–∞–¥–∞—á–∏
4. –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–æ–≤
5. –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `npm install driver.js` –∏–ª–∏ `react-joyride`

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 6 —á–∞—Å–æ–≤

---

### 2.4 –†—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

**–ó–∞–¥–∞—á–∏**:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ UI —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- [ ] –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã
- [ ] –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞—Ç—ã –∏ —á–∏—Å–ª–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º—ã –æ—à–∏–±–æ–∫

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 8 —á–∞—Å–æ–≤

---

### 2.5 –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∑–æ–Ω–∞ (/my/*)

**–ù–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**:

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ß–∞—Å—ã |
|----------|-----|----------|------|
| Dashboard | `/my/` | –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ | 4 |
| –ò—Å—Ç–æ—Ä–∏—è | `/my/history` | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫ | 3 |
| –ë–æ–Ω—É—Å—ã | `/my/bonuses` | –ë–∞–ª–∞–Ω—Å –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è | 3 |
| –ò–∑–±—Ä–∞–Ω–Ω–æ–µ | `/my/favorites` | –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏ | 2 |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | `/my/settings` | –ü—Ä–æ—Ñ–∏–ª—å –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | 2 |
| –ê–∫—Ü–∏–∏ | `/promotions` | –¢–µ–∫—É—â–∏–µ –∞–∫—Ü–∏–∏ | 2 |

**Backend API (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å)**:
```
GET  /api/client/me/stats
GET  /api/client/me/history
GET  /api/client/me/bonuses
POST /api/client/bonuses/redeem
GET  /api/client/me/favorites
POST /api/client/me/favorites
GET  /api/promotions
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 16 —á–∞—Å–æ–≤

---

## –§–∞–∑–∞ 3: Mobile App (–ù–µ–¥–µ–ª–∏ 5-8)

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 90 —á–∞—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† HIGH

### 3.1 –≠–∫—Ä–∞–Ω—ã –∑–∞–¥–∞—á

| –≠–∫—Ä–∞–Ω | –§–∞–π–ª | –ß–∞—Å—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|------|----------|
| TaskListScreen | `screens/Staff/TaskListScreen.tsx` | 8 | –°–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ |
| TaskDetailScreen | `screens/Staff/TaskDetailScreen.tsx` | 8 | –î–µ—Ç–∞–ª–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è |
| TaskCameraScreen | `screens/Staff/TaskCameraScreen.tsx` | 12 | –§–æ—Ç–æ –¥–æ/–ø–æ—Å–ª–µ |
| TaskChecklistScreen | `screens/Staff/TaskChecklistScreen.tsx` | 6 | –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª TaskListScreen**:
- [ ] Pull-to-refresh
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É (pending, in_progress, completed)
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É (refill, collection, maintenance)
- [ ] –ü–æ–∏—Å–∫ –ø–æ –º–∞—à–∏–Ω–µ
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ/–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª TaskCameraScreen**:
- [ ] Expo Camera –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- [ ] –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] Watermark —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 34 —á–∞—Å–∞

---

### 3.2 –ö–∞—Ä—Ç–∞ –∏ –ª–æ–∫–∞—Ü–∏–∏

| –≠–∫—Ä–∞–Ω | –§–∞–π–ª | –ß–∞—Å—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|------|----------|
| EquipmentMapScreen | `screens/Staff/EquipmentMapScreen.tsx` | 10 | –ö–∞—Ä—Ç–∞ –º–∞—à–∏–Ω |
| RouteScreen | `screens/Staff/RouteScreen.tsx` | 6 | –ú–∞—Ä—à—Ä—É—Ç –Ω–∞ –¥–µ–Ω—å |

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–∞—Ä—Ç—ã**:
- [ ] React Native Maps –∏–ª–∏ Leaflet
- [ ] –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É –º–∞—à–∏–Ω
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ –º–∞—à–∏–Ω–µ
- [ ] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—à–∏–Ω–µ –≤ popup

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 16 —á–∞—Å–æ–≤

---

### 3.3 –ü—Ä–æ—Ñ–∏–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

| –≠–∫—Ä–∞–Ω | –§–∞–π–ª | –ß–∞—Å—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|------|----------|
| ProfileScreen | `screens/Staff/ProfileScreen.tsx` | 4 | –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| SettingsScreen | `screens/Staff/SettingsScreen.tsx` | 4 | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –°–º–µ–Ω–∞ —è–∑—ã–∫–∞
- [ ] Push notification settings
- [ ] Logout
- [ ] –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 8 —á–∞—Å–æ–≤

---

### 3.4 Offline Mode

**–§–∞–π–ª—ã**:
- `services/offline/OfflineQueueService.ts`
- `services/offline/SyncService.ts`
- `hooks/useNetworkStatus.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ç–∏
- [ ] –û—á–µ—Ä–µ–¥—å offline –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –ö–æ–Ω—Ñ–ª–∏–∫—Ç-—Ä–µ–∑–æ–ª—é—Ü–∏—è
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä offline —Ä–µ–∂–∏–º–∞

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**:
- AsyncStorage –¥–ª—è –æ—á–µ—Ä–µ–¥–∏
- NetInfo –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–∏
- Background fetch –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 16 —á–∞—Å–æ–≤

---

### 3.5 Push Notifications

**–§–∞–π–ª—ã**:
- `services/notifications/PushService.ts`
- `services/notifications/NotificationHandler.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- [ ] Expo Notifications setup
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ –Ω–∞ backend
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ foreground —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] Deep linking –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**Backend API**:
```
POST /api/mobile/push-token
DELETE /api/mobile/push-token
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 8 —á–∞—Å–æ–≤

---

### 3.6 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞

| –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| Unit —Ç–µ—Å—Ç—ã | 4 | Jest –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| Integration —Ç–µ—Å—Ç—ã | 4 | API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| Performance | 2 | –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |
| iOS build | 2 | EAS Build |
| Android build | 2 | EAS Build |

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 14 —á–∞—Å–∞

---

## –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ (–ù–µ–¥–µ–ª–∏ 9-12)

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 120 —á–∞—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM

### 4.1 VH24 Integration (Containers & Recipes)

**–ò—Å—Ç–æ—á–Ω–∏–∫**: https://github.com/jamsmac/VH24

#### 4.1.1 Containers Module (–ë—É–Ω–∫–µ—Ä—ã)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**:
```
backend/src/modules/containers/
‚îú‚îÄ‚îÄ entities/
‚îÇ   ‚îú‚îÄ‚îÄ container.entity.ts
‚îÇ   ‚îî‚îÄ‚îÄ container-refill.entity.ts
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ create-container.dto.ts
‚îÇ   ‚îî‚îÄ‚îÄ update-container.dto.ts
‚îú‚îÄ‚îÄ containers.service.ts
‚îú‚îÄ‚îÄ containers.controller.ts
‚îî‚îÄ‚îÄ containers.module.ts
```

**Entity —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```typescript
@Entity('containers')
export class Container extends BaseEntity {
  machine_id: string;           // FK ‚Üí machines
  nomenclature_id: string;      // FK ‚Üí nomenclature (–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç)
  slot_number: number;          // –ù–æ–º–µ—Ä —Å–ª–æ—Ç–∞ –≤ –º–∞—à–∏–Ω–µ
  name: string;                 // –ù–∞–∑–≤–∞–Ω–∏–µ –±—É–Ω–∫–µ—Ä–∞
  capacity: number;             // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å
  current_quantity: number;     // –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
  unit: string;                 // –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (–≥, –º–ª)
  min_level: number;            // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –∞–ª–µ—Ä—Ç–∞
  last_refill_date: Date;       // –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø—Ä–∞–≤–∫–∏
  status: 'active' | 'empty' | 'maintenance';
}
```

**API Endpoints**:
```
GET    /containers                    # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö
GET    /containers/:id                # –ü–æ ID
GET    /containers/machine/:machineId # –ü–æ –º–∞—à–∏–Ω–µ
POST   /containers                    # –°–æ–∑–¥–∞—Ç—å
PATCH  /containers/:id                # –û–±–Ω–æ–≤–∏—Ç—å
POST   /containers/:id/refill         # –ó–∞–ø—Ä–∞–≤–∏—Ç—å
DELETE /containers/:id                # –£–¥–∞–ª–∏—Ç—å
```

**–ú–∏–≥—Ä–∞—Ü–∏—è**:
```typescript
// migrations/XXXXXX-AddContainers.ts
await queryRunner.createTable(new Table({
  name: 'containers',
  columns: [
    { name: 'id', type: 'uuid', isPrimary: true, default: 'uuid_generate_v4()' },
    { name: 'machine_id', type: 'uuid' },
    { name: 'nomenclature_id', type: 'uuid', isNullable: true },
    { name: 'slot_number', type: 'int' },
    { name: 'name', type: 'varchar', length: '100', isNullable: true },
    { name: 'capacity', type: 'decimal', precision: 10, scale: 3 },
    { name: 'current_quantity', type: 'decimal', precision: 10, scale: 3, default: 0 },
    { name: 'unit', type: 'varchar', length: '20', default: "'–≥'" },
    { name: 'min_level', type: 'decimal', precision: 10, scale: 3, isNullable: true },
    { name: 'last_refill_date', type: 'timestamp', isNullable: true },
    { name: 'status', type: 'varchar', length: '20', default: "'active'" },
    { name: 'created_at', type: 'timestamp', default: 'CURRENT_TIMESTAMP' },
    { name: 'updated_at', type: 'timestamp', default: 'CURRENT_TIMESTAMP' },
    { name: 'deleted_at', type: 'timestamp', isNullable: true },
  ],
  indices: [
    { columnNames: ['machine_id'] },
    { columnNames: ['nomenclature_id'] },
  ],
  foreignKeys: [
    { columnNames: ['machine_id'], referencedTableName: 'machines', referencedColumnNames: ['id'], onDelete: 'CASCADE' },
    { columnNames: ['nomenclature_id'], referencedTableName: 'nomenclature', referencedColumnNames: ['id'], onDelete: 'SET NULL' },
  ],
  uniques: [
    { columnNames: ['machine_id', 'slot_number'] },
  ],
}));
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 16 —á–∞—Å–æ–≤

---

#### 4.1.2 Recipe Consumption Service

**–§–∞–π–ª**: `backend/src/modules/recipes/services/recipe-consumption.service.ts`

> ‚ö†Ô∏è –í–ê–ñ–ù–û: –î–æ–±–∞–≤–∏—Ç—å –ö–ê–ö –ù–û–í–´–ô –°–ï–†–í–ò–°, –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å recipes.service.ts!

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
```typescript
@Injectable()
export class RecipeConsumptionService {
  // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∞—Å—Ö–æ–¥ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –¥–ª—è N –ø–æ—Ä—Ü–∏–π
  async calculateConsumption(recipeId: string, quantity: number): Promise<IngredientConsumption[]>;

  // –°–ø–∏—Å–∞—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ (–∞—Ç–æ–º–∞—Ä–Ω–æ)
  async deductIngredients(recipeId: string, machineId: string, quantity: number): Promise<void>;

  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
  async checkAvailability(recipeId: string, machineId: string, quantity: number): Promise<{
    available: boolean;
    missing: IngredientConsumption[];
  }>;
}
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
- [ ] –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –ø—Ä–æ–¥–∞–∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∏—Å—ã–≤–∞—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–∫–∞–∑–∞
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 12 —á–∞—Å–æ–≤

---

#### 4.1.3 Batch Tracking (–ü–∞—Ä—Ç–∏–∏)

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**:
```
backend/src/modules/ingredient-batches/
‚îú‚îÄ‚îÄ entities/
‚îÇ   ‚îî‚îÄ‚îÄ ingredient-batch.entity.ts
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ create-batch.dto.ts
‚îÇ   ‚îî‚îÄ‚îÄ update-batch.dto.ts
‚îú‚îÄ‚îÄ ingredient-batches.service.ts
‚îú‚îÄ‚îÄ ingredient-batches.controller.ts
‚îî‚îÄ‚îÄ ingredient-batches.module.ts
```

**Entity —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```typescript
@Entity('ingredient_batches')
export class IngredientBatch extends BaseEntity {
  nomenclature_id: string;       // FK ‚Üí nomenclature
  batch_number: string;          // –ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏–∏
  quantity: number;              // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
  purchase_price: number;        // –ó–∞–∫—É–ø–æ—á–Ω–∞—è —Ü–µ–Ω–∞
  supplier_id: string;           // FK ‚Üí counterparties
  manufacture_date: Date;        // –î–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
  expiry_date: Date;             // –°—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏
  received_date: Date;           // –î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è
  status: 'in_stock' | 'depleted' | 'expired' | 'returned';
}
```

**FIFO –ª–æ–≥–∏–∫–∞**:
```typescript
// –ü—Ä–∏ —Å–ø–∏—Å–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Ç–∏–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è
async deductWithFIFO(nomenclatureId: string, quantity: number): Promise<void> {
  const batches = await this.repository.find({
    where: { nomenclature_id: nomenclatureId, status: 'in_stock' },
    order: { received_date: 'ASC' }, // FIFO
  });

  let remaining = quantity;
  for (const batch of batches) {
    if (remaining <= 0) break;
    const deduct = Math.min(batch.quantity, remaining);
    batch.quantity -= deduct;
    remaining -= deduct;
    if (batch.quantity === 0) batch.status = 'depleted';
    await this.repository.save(batch);
  }
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 16 —á–∞—Å–æ–≤

---

#### 4.1.4 Sales Reporting via Telegram

**–ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞**:
```
/sales              ‚Üí –ù–∞—á–∞—Ç—å –≤–≤–æ–¥ –ø—Ä–æ–¥–∞–∂
/sales [machine]    ‚Üí –ü—Ä–æ–¥–∞–∂–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–∞—à–∏–Ω—ã
```

**FSM Flow**:
```
IDLE ‚Üí /sales ‚Üí SELECT_MACHINE ‚Üí ENTER_CASH ‚Üí ENTER_CARD ‚Üí CONFIRM ‚Üí IDLE
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
// telegram/core/services/telegram-sales.service.ts
@Injectable()
export class TelegramSalesService {
  async startSalesFlow(ctx: Context): Promise<void>;
  async handleMachineSelection(ctx: Context, machineId: string): Promise<void>;
  async handleCashAmount(ctx: Context, amount: number): Promise<void>;
  async handleCardAmount(ctx: Context, amount: number): Promise<void>;
  async confirmSales(ctx: Context): Promise<void>;
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 8 —á–∞—Å–æ–≤

---

### 4.2 data-parse-desk Integration (AI & Formulas)

**–ò—Å—Ç–æ—á–Ω–∏–∫**: https://github.com/jamsmac/data-parse-desk

#### 4.2.1 AI Column Mapping Enhancement

**–§–∞–π–ª**: `backend/src/modules/intelligent-import/services/ai-column-mapper.service.ts`

**–£–ª—É—á—à–µ–Ω–∏—è**:
- [ ] Multi-model routing (Gemini ‚Üí GPT fallback)
- [ ] Confidence scoring –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –º–∞–ø–ø–∏–Ω–≥–æ–≤
- [ ] Learning –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 12 —á–∞—Å–æ–≤

---

#### 4.2.2 Formula Engine

**–ù–æ–≤—ã–π –º–æ–¥—É–ª—å**: `backend/src/modules/formula-engine/`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
```typescript
// –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ
SUM, AVG, MIN, MAX, COUNT, ROUND, ABS

// –°—Ç—Ä–æ–∫–æ–≤—ã–µ
CONCAT, LEFT, RIGHT, TRIM, UPPER, LOWER

// –õ–æ–≥–∏—á–µ—Å–∫–∏–µ
IF, AND, OR, NOT, SWITCH

// –î–∞—Ç—ã
TODAY, NOW, DATEDIFF, DATEADD

// –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
LOOKUP, VLOOKUP, INDEX, MATCH
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```typescript
// –í –∫–æ–º–∏—Å—Å–∏—è—Ö
formula: "=revenue * commission_rate / 100"

// –í –æ—Ç—á—ë—Ç–∞—Ö
formula: "=SUM(sales) - SUM(expenses)"

// –í –∞–ª–µ—Ä—Ç–∞—Ö
formula: "=IF(stock < min_level, 'LOW', 'OK')"
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 16 —á–∞—Å–æ–≤

---

#### 4.2.3 Natural Language Queries

**–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –±–æ—Ç–∞**: `/ask [–≤–æ–ø—Ä–æ—Å]`

**–ü—Ä–∏–º–µ—Ä—ã**:
```
/ask –ü–æ–∫–∞–∂–∏ –º–∞—à–∏–Ω—ã —Å –Ω–∏–∑–∫–∏–º –æ—Å—Ç–∞—Ç–∫–æ–º
/ask –°–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–∂ –∑–∞ —ç—Ç—É –Ω–µ–¥–µ–ª—é
/ask –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω—ã
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
// telegram/core/services/telegram-nlp.service.ts
@Injectable()
export class TelegramNlpService {
  async parseQuery(query: string): Promise<StructuredQuery>;
  async executeQuery(query: StructuredQuery): Promise<QueryResult>;
  async formatResponse(result: QueryResult): Promise<string>;
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 20 —á–∞—Å–æ–≤

---

### 4.3 AIAssistant Integration (Caching & Workflows)

**–ò—Å—Ç–æ—á–Ω–∏–∫**: https://github.com/jamsmac/AIAssistant

#### 4.3.1 Advanced Caching System

**–§–∞–π–ª**: `backend/src/common/services/ai-cache.service.ts`

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**:
```typescript
interface CacheConfig {
  simple_query: { ttl: 3600 };      // 1 —á–∞—Å
  complex_analysis: { ttl: 604800 }; // 1 –Ω–µ–¥–µ–ª—è
  realtime_data: { ttl: 0 };         // –ë–µ–∑ –∫—ç—à–∞
}

// Hash-based –∫–ª—é—á–∏
const key = MD5(JSON.stringify({ prompt, model, params }));
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –¥–æ 920x speedup –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 8 —á–∞—Å–æ–≤

---

#### 4.3.2 Workflow Automation Engine

**–ù–æ–≤—ã–π –º–æ–¥—É–ª—å**: `backend/src/modules/workflows/`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ workflow**:
```typescript
interface Workflow {
  id: string;
  name: string;
  trigger: WorkflowTrigger;
  steps: WorkflowStep[];
  is_active: boolean;
}

type WorkflowTrigger =
  | { type: 'event', event: 'low_stock' | 'task_created' | 'incident_reported' }
  | { type: 'schedule', cron: string }
  | { type: 'manual' };

interface WorkflowStep {
  action: 'notify' | 'create_task' | 'assign_user' | 'update_status' | 'send_email';
  config: Record<string, any>;
  conditions?: WorkflowCondition[];
}
```

**–ü—Ä–∏–º–µ—Ä—ã workflows**:
```yaml
# Low Stock Alert Workflow
trigger: { type: 'event', event: 'low_stock' }
steps:
  - action: notify
    config: { channel: 'telegram', recipients: 'managers' }
  - action: create_task
    config: { type: 'refill', priority: 'high' }
  - action: assign_user
    config: { strategy: 'nearest_operator' }
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 24 —á–∞—Å–∞

---

### 4.4 vendify-menu-maps Integration

**–ò—Å—Ç–æ—á–Ω–∏–∫**: https://github.com/jamsmac/vendify-menu-maps

#### 4.4.1 Enhanced Map Components

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è frontend**:
```
frontend/src/components/map/
‚îú‚îÄ‚îÄ MachineMap.tsx           # –ö–∞—Ä—Ç–∞ —Å –º–∞—à–∏–Ω–∞–º–∏
‚îú‚îÄ‚îÄ MachineMarker.tsx        # –ö–∞—Å—Ç–æ–º–Ω—ã–π –º–∞—Ä–∫–µ—Ä
‚îú‚îÄ‚îÄ MachineCluster.tsx       # –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ MachinePopup.tsx         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—à–∏–Ω–µ
‚îú‚îÄ‚îÄ RouteLayer.tsx           # –ú–∞—Ä—à—Ä—É—Ç
‚îî‚îÄ‚îÄ SearchOnMap.tsx          # –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ä—Ç–µ
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 12 —á–∞—Å–æ–≤

---

### 4.5 vhm24v2 Integration

**–ò—Å—Ç–æ—á–Ω–∏–∫**: https://github.com/jamsmac/vhm24v2

#### 4.5.1 Shared Types Structure

**–°–æ–∑–¥–∞—Ç—å**: `shared/` –ø–∞–ø–∫—É –¥–ª—è –æ–±—â–∏—Ö —Ç–∏–ø–æ–≤

```
shared/
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ machine.types.ts
‚îÇ   ‚îú‚îÄ‚îÄ task.types.ts
‚îÇ   ‚îú‚îÄ‚îÄ user.types.ts
‚îÇ   ‚îî‚îÄ‚îÄ transaction.types.ts
‚îú‚îÄ‚îÄ constants/
‚îÇ   ‚îú‚îÄ‚îÄ roles.ts
‚îÇ   ‚îú‚îÄ‚îÄ statuses.ts
‚îÇ   ‚îî‚îÄ‚îÄ currencies.ts
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ validation.ts
    ‚îî‚îÄ‚îÄ formatting.ts
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 8 —á–∞—Å–æ–≤

---

## –§–∞–∑–∞ 5: Advanced Features (–ù–µ–¥–µ–ª–∏ 13-16)

**–°—Ä–æ–∫**: 4 –Ω–µ–¥–µ–ª–∏
**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 140 —á–∞—Å–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ MEDIUM-LOW

### 5.1 E2E Testing

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: Playwright

**Setup**:
```bash
cd frontend
npm install -D @playwright/test
npx playwright install
```

**–¢–µ—Å—Ç—ã**:
```
tests/e2e/
‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îú‚îÄ‚îÄ login.spec.ts
‚îÇ   ‚îú‚îÄ‚îÄ logout.spec.ts
‚îÇ   ‚îî‚îÄ‚îÄ 2fa.spec.ts
‚îú‚îÄ‚îÄ machines/
‚îÇ   ‚îú‚îÄ‚îÄ list.spec.ts
‚îÇ   ‚îú‚îÄ‚îÄ create.spec.ts
‚îÇ   ‚îî‚îÄ‚îÄ edit.spec.ts
‚îú‚îÄ‚îÄ tasks/
‚îÇ   ‚îú‚îÄ‚îÄ create.spec.ts
‚îÇ   ‚îú‚îÄ‚îÄ complete.spec.ts
‚îÇ   ‚îî‚îÄ‚îÄ photo-upload.spec.ts
‚îú‚îÄ‚îÄ commissions/
‚îÇ   ‚îú‚îÄ‚îÄ calculation.spec.ts
‚îÇ   ‚îî‚îÄ‚îÄ payout.spec.ts
‚îî‚îÄ‚îÄ reports/
    ‚îî‚îÄ‚îÄ generate.spec.ts
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 40 —á–∞—Å–æ–≤

---

### 5.2 Telegram Bot Enhancement

#### –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ß–∞—Å—ã |
|---------|----------|------|
| `/commissions` | –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–∏—Å—Å–∏–π | 4 |
| `/overdue` | –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ | 3 |
| `/calculate` | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–º–∏—Å—Å–∏–π | 4 |
| `/operation` | –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é | 4 |
| `/ask` | NLP –∑–∞–ø—Ä–æ—Å | 8 |

**Inline keyboards**:
- [ ] –ö–æ–º–∏—Å—Å–∏–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- [ ] Quick actions –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—Å—Ä–æ—á–∫–µ

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 23 —á–∞—Å–∞

---

### 5.3 Operator Ratings System

**Entity**:
```typescript
@Entity('operator_ratings')
export class OperatorRating extends BaseEntity {
  user_id: string;
  period_start: Date;
  period_end: Date;
  timeliness_score: number;       // 30% - –°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å
  photo_quality_score: number;    // 25% - –ö–∞—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ
  data_accuracy_score: number;    // 20% - –¢–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
  customer_feedback_score: number; // 15% - –û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
  discipline_score: number;       // 10% - –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞
  total_score: number;            // –û–±—â–∏–π –±–∞–ª–ª
  rank: 'bronze' | 'silver' | 'gold' | 'platinum';
}
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç**:
```typescript
@Cron('0 0 * * 0') // –ö–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
async calculateWeeklyRatings() {
  // –ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∑–∞ –Ω–µ–¥–µ–ª—é
  // –†–∞—Å—á—ë—Ç –±–∞–ª–ª–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 20 —á–∞—Å–æ–≤

---

### 5.4 Advanced Reports

| –û—Ç—á—ë—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ß–∞—Å—ã |
|-------|----------|------|
| –ü—Ä–æ–¥–∞–∂–∏ –ø–æ –º–∞—à–∏–Ω–∞–º | –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º | 4 |
| –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ | –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ | 4 |
| –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è | –û—Å—Ç–∞—Ç–∫–∏ –∏ –¥–≤–∏–∂–µ–Ω–∏—è | 4 |
| –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π | –î–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã, –∫–æ–º–∏—Å—Å–∏–∏ | 6 |
| –¢–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–º–æ–Ω—Ç–æ–≤ | 4 |
| –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã | –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º | 3 |

**PDF Generation**: PDFKit —Å —à–∞–±–ª–æ–Ω–∞–º–∏

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 25 —á–∞—Å–∞

---

### 5.5 Multi-tenant / Franchise System

**–ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞**: `organizations`

```typescript
@Entity('organizations')
export class Organization extends BaseEntity {
  name: string;
  code: string;               // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
  owner_id: string;           // FK ‚Üí users
  settings: Record<string, any>;
  subscription_plan: 'free' | 'basic' | 'pro' | 'enterprise';
  is_active: boolean;
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö**:
```sql
-- –î–æ–±–∞–≤–∏—Ç—å organization_id (nullable –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
ALTER TABLE machines ADD COLUMN organization_id UUID REFERENCES organizations(id);
ALTER TABLE users ADD COLUMN organization_id UUID REFERENCES organizations(id);
ALTER TABLE transactions ADD COLUMN organization_id UUID REFERENCES organizations(id);
```

**Middleware –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö**:
```typescript
@Injectable()
export class TenantMiddleware implements NestMiddleware {
  use(req: Request, res: Response, next: NextFunction) {
    const organizationId = req.user?.organization_id;
    req.tenantScope = { organization_id: organizationId };
    next();
  }
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã**: 32 —á–∞—Å–∞

---

## –ú–∞—Ç—Ä–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         –ú–ê–¢–†–ò–¶–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  Sprint 0 (–ë–ª–æ–∫–µ—Ä—ã)                                                         ‚îÇ
‚îÇ       ‚îÇ                                                                     ‚îÇ
‚îÇ       ‚ñº                                                                     ‚îÇ
‚îÇ  –§–∞–∑–∞ 1 (–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
‚îÇ       ‚îÇ                                                  ‚îÇ                  ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ                  ‚îÇ
‚îÇ       ‚ñº                 ‚ñº                 ‚ñº              ‚îÇ                  ‚îÇ
‚îÇ  –§–∞–∑–∞ 2 (UI/UX)    –§–∞–∑–∞ 3 (Mobile)   –§–∞–∑–∞ 4.1-4.2       ‚îÇ                  ‚îÇ
‚îÇ       ‚îÇ                 ‚îÇ             (VH24)             ‚îÇ                  ‚îÇ
‚îÇ       ‚îÇ                 ‚îÇ                 ‚îÇ              ‚îÇ                  ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ                  ‚îÇ
‚îÇ                         ‚ñº                                ‚ñº                  ‚îÇ
‚îÇ                    –§–∞–∑–∞ 4.3-4.5                    –§–∞–∑–∞ 5 (Advanced)        ‚îÇ
‚îÇ                   (AI, Workflows)                        ‚îÇ                  ‚îÇ
‚îÇ                         ‚îÇ                                ‚îÇ                  ‚îÇ
‚îÇ                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ
‚îÇ                                      ‚îÇ                                      ‚îÇ
‚îÇ                                      ‚ñº                                      ‚îÇ
‚îÇ                              üöÄ PRODUCTION                                  ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å

1. **Sprint 0** ‚Üí –ë–µ–∑ —ç—Ç–æ–≥–æ frontend –Ω–µ—Ä–∞–±–æ—á–∏–π
2. **–§–∞–∑–∞ 1.1-1.2** ‚Üí Backend –∏ Frontend —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
3. **–§–∞–∑–∞ 3** ‚Üí Mobile App (–±–æ–ª—å—à–æ–π –±–ª–æ–∫)
4. **–§–∞–∑–∞ 4.1** ‚Üí Containers (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–æ–≤)
5. **–§–∞–∑–∞ 5.1** ‚Üí E2E —Ç–µ—Å—Ç—ã (validation –ø–µ—Ä–µ–¥ production)

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| TypeScript –æ—à–∏–±–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç build | HIGH | HIGH | –í–∫–ª—é—á–∏—Ç—å strict mode –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ |
| –ú–∏–≥—Ä–∞—Ü–∏–∏ –ª–æ–º–∞—é—Ç production | MEDIUM | CRITICAL | –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ staging |
| Mobile app –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç App Store | MEDIUM | HIGH | –ó–∞—Ä–∞–Ω–µ–µ –∏–∑—É—á–∏—Ç—å guidelines |
| AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ—Ä–æ–≥–∏–µ | MEDIUM | MEDIUM | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, rate limiting |
| Grammy –º–∏–≥—Ä–∞—Ü–∏—è —Å–ª–æ–∂–Ω–∞—è | HIGH | LOW | –û—Ç–ª–æ–∂–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegraf |

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –ù–µ—Ö–≤–∞—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ | HIGH | HIGH | –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ –±–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç–∏ |
| Scope creep | HIGH | MEDIUM | –°—Ç—Ä–æ–≥–∏–π change management |
| –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ | MEDIUM | MEDIUM | 20% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª–µ–≤–æ–µ | –°—Ä–æ–∫ |
|---------|---------|---------|------|
| Test Coverage | 65% | 80% | –§–∞–∑–∞ 1 |
| Build Success Rate | 85% | 99% | –§–∞–∑–∞ 1 |
| API Response Time (p95) | 500ms | 200ms | –§–∞–∑–∞ 4 |
| Mobile App Crashes | N/A | <1% | –§–∞–∑–∞ 3 |
| Telegram Bot Response | 2s | 500ms | –§–∞–∑–∞ 4 |

### –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª–µ–≤–æ–µ | –°—Ä–æ–∫ |
|---------|---------|---------|------|
| Feature Completeness | 73% | 95% | –§–∞–∑–∞ 5 |
| Mobile App Downloads | 0 | 1000+ | +2 –º–µ—Å—è—Ü–∞ |
| Daily Active Users | N/A | 50+ | +3 –º–µ—Å—è—Ü–∞ |
| Operator Efficiency | N/A | +30% | +4 –º–µ—Å—è—Ü–∞ |

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –§–∞–∑–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ù–µ–¥–µ–ª–∏ | –ß–∞—Å—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|----------|--------|------|-----------|
| 0 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã | 0 | 5 | üî¥ BLOCKER |
| 1 | –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è | 1-2 | 40 | üî¥ HIGH |
| 2 | UI/UX –∏ –û—Ñ–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | 3-4 | 50 | üü† MEDIUM-HIGH |
| 3 | Mobile App | 5-8 | 90 | üü† HIGH |
| 4 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | 9-12 | 120 | üü° MEDIUM |
| 5 | Advanced Features | 13-16 | 140 | üü¢ MEDIUM-LOW |
| **–ò–¢–û–ì–û** | | **16 –Ω–µ–¥–µ–ª—å** | **445 —á–∞—Å–æ–≤** | |

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ ~275 —á–∞—Å–æ–≤ –∏–∑ Phase 2-3 roadmap.md (–ø—Ä–æ–¥–∞–∂–∏, —Å–∫–ª–∞–¥, —Ä–µ–π—Ç–∏–Ω–≥–∏) –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –ø–æ—Å–ª–µ –§–∞–∑—ã 5.

---

## –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ Production

### Pre-Launch (–§–∞–∑–∞ 1-3)
- [ ] –í—Å–µ –±–ª–æ–∫–µ—Ä—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] Test coverage > 80%
- [ ] Build —É—Å–ø–µ—à–µ–Ω –≤–æ –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö
- [ ] Security audit –ø—Ä–æ–π–¥–µ–Ω
- [ ] Mobile apps –≤ stores

### Launch (–§–∞–∑–∞ 4)
- [ ] Staging smoke tests –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Load testing –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] Rollback –ø–ª–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] Monitoring –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] On-call rotation –æ–ø—Ä–µ–¥–µ–ª—ë–Ω

### Post-Launch (–§–∞–∑–∞ 5)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è
- [ ] User feedback —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
- [ ] Hot fixes –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Documentation –∞–∫—Ç—É–∞–ª—å–Ω–∞

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### A. –°—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

| –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π | URL | –°—Ç–∞—Ç—É—Å |
|-------------|-----|--------|
| VHM24 (—Ç–µ–∫—É—â–∏–π) | https://github.com/jamsmac/VHM24 | Active |
| VH24 | https://github.com/jamsmac/VH24 | Reference |
| data-parse-desk | https://github.com/jamsmac/data-parse-desk | Reference |
| AIAssistant | https://github.com/jamsmac/AIAssistant | Reference |
| vendify-menu-maps | https://github.com/jamsmac/vendify-menu-maps | Reference |
| vhm24v2 | https://github.com/jamsmac/vhm24v2 | Reference |

### B. –î–æ–∫—É–º–µ–Ω—Ç—ã-–∏—Å—Ç–æ—á–Ω–∏–∫–∏

| –î–æ–∫—É–º–µ–Ω—Ç | –ü—É—Ç—å |
|----------|------|
| ACTION_PLAN_100 | `.claude/ACTION_PLAN_100.md` |
| MVP Checklist | `.claude/phase-1-mvp-checklist.md` |
| Master Plan | `docs/231225/VHM24-MASTER-PLAN.md` |
| Roadmap | `docs/architecture/roadmap.md` |
| Integration Instructions | `.claude/INTEGRATION_INSTRUCTIONS.md` |
| Telegram Analysis | `docs/telegram/TELEGRAM_ANALYSIS_PROMPT.md` |

### C. Feature Flags

```bash
# .env
FEATURE_CONTAINERS=false          # –§–∞–∑–∞ 4.1
FEATURE_RECIPE_CONSUMPTION=false  # –§–∞–∑–∞ 4.1
FEATURE_BATCH_TRACKING=false      # –§–∞–∑–∞ 4.1
FEATURE_FORMULA_ENGINE=false      # –§–∞–∑–∞ 4.2
FEATURE_NLP_QUERIES=false         # –§–∞–∑–∞ 4.2
FEATURE_AI_CACHE=false            # –§–∞–∑–∞ 4.3
FEATURE_WORKFLOWS=false           # –§–∞–∑–∞ 4.3
FEATURE_OPERATOR_RATINGS=false    # –§–∞–∑–∞ 5.3
FEATURE_MULTI_TENANT=false        # –§–∞–∑–∞ 5.5
```

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0.0
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2026-01-04
**–ê–≤—Ç–æ—Ä**: VendHub Development Team
**–°–ª–µ–¥—É—é—â–∏–π review**: –ü–æ—Å–ª–µ Sprint 0
