/**
 * VendHub Client Theme - "Warm Brew" Design System
 *
 * Scandinavian minimalist design inspired by coffee culture
 * For client-facing pages (menu, orders, etc.)
 *
 * This file extends the base theme without breaking staff dashboard
 */

/* ===== CSS Custom Properties for Client Platform ===== */
:root {
  /* Primary - Espresso & Caramel */
  --client-espresso: 25 32% 29%;
  --client-espresso-light: 16 23% 47%;
  --client-espresso-dark: 14 24% 19%;
  --client-caramel: 30 52% 64%;
  --client-caramel-light: 32 56% 77%;
  --client-caramel-dark: 28 45% 57%;

  /* Background - Cream & Milk */
  --client-cream: 30 33% 97%;
  --client-milk: 0 0% 100%;
  --client-latte: 30 25% 94%;

  /* Accent Colors */
  --client-mint: 160 40% 49%;
  --client-mint-light: 160 40% 63%;
  --client-berry: 345 50% 57%;
  --client-berry-light: 345 50% 77%;
  --client-gold: 45 65% 52%;
  --client-gold-light: 45 78% 70%;

  /* Text */
  --client-text: 20 8% 16%;
  --client-text-secondary: 20 10% 37%;
  --client-text-muted: 20 10% 57%;

  /* Shadows */
  --client-shadow-color: 25 32% 29%;

  /* Animation Timings */
  --client-animation-fast: 150ms;
  --client-animation-normal: 250ms;
  --client-animation-slow: 350ms;

  /* Telegram Web App Integration */
  --tg-theme-bg-color: hsl(var(--client-cream));
  --tg-theme-text-color: hsl(var(--client-text));
  --tg-theme-button-color: hsl(var(--client-espresso));
  --tg-theme-button-text-color: white;
}

/* Dark mode for client */
.dark .client-theme,
.client-theme.dark {
  --client-cream: 16 12% 10%;
  --client-milk: 16 10% 15%;
  --client-latte: 16 8% 20%;
  --client-text: 30 25% 94%;
  --client-text-secondary: 20 10% 70%;
  --client-text-muted: 20 10% 55%;
}

/* ===== Client Theme Container ===== */
.client-theme {
  --background: var(--client-cream);
  --foreground: var(--client-text);
  --card: var(--client-milk);
  --card-foreground: var(--client-text);
  --primary: var(--client-espresso);
  --primary-foreground: 0 0% 100%;
  --accent: var(--client-caramel);
  --accent-foreground: var(--client-text);

  background-color: hsl(var(--client-cream));
  color: hsl(var(--client-text));
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* ===== Typography ===== */
.client-theme h1,
.client-theme h2,
.client-theme h3,
.client-theme .heading {
  font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
  font-weight: 600;
  letter-spacing: -0.02em;
}

.client-theme .text-display {
  font-size: 2.5rem;
  line-height: 1.2;
}

/* ===== Card Components ===== */
.client-card {
  background: hsl(var(--client-milk));
  border-radius: 16px;
  border: 1px solid hsl(var(--client-latte));
  box-shadow:
    0 1px 3px hsl(var(--client-shadow-color) / 0.04),
    0 4px 12px hsl(var(--client-shadow-color) / 0.06);
  transition: all var(--client-animation-normal) ease;
}

.client-card:hover {
  transform: translateY(-2px);
  box-shadow:
    0 4px 12px hsl(var(--client-shadow-color) / 0.08),
    0 8px 24px hsl(var(--client-shadow-color) / 0.1);
}

.client-card:active {
  transform: translateY(0);
}

/* Coffee card with warm shadow */
.coffee-card {
  background: hsl(var(--client-milk));
  border-radius: 20px;
  padding: 1rem;
  box-shadow:
    0 2px 8px hsl(var(--client-caramel) / 0.15),
    0 4px 16px hsl(var(--client-shadow-color) / 0.08);
  transition: all var(--client-animation-normal) cubic-bezier(0.4, 0, 0.2, 1);
}

.coffee-card:hover {
  transform: scale(1.02) translateY(-4px);
  box-shadow:
    0 8px 24px hsl(var(--client-caramel) / 0.2),
    0 16px 48px hsl(var(--client-shadow-color) / 0.12);
}

/* ===== Button Components ===== */
.btn-espresso {
  background: linear-gradient(135deg, hsl(var(--client-espresso)), hsl(var(--client-espresso-dark)));
  color: white;
  border: none;
  border-radius: 12px;
  padding: 12px 24px;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  transition: all var(--client-animation-normal) ease;
  box-shadow: 0 4px 12px hsl(var(--client-espresso) / 0.3);
}

.btn-espresso:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px hsl(var(--client-espresso) / 0.4);
}

.btn-espresso:active {
  transform: translateY(0);
}

.btn-caramel {
  background: linear-gradient(135deg, hsl(var(--client-caramel)), hsl(var(--client-caramel-dark)));
  color: hsl(var(--client-text));
  border: none;
  border-radius: 12px;
  padding: 12px 24px;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  transition: all var(--client-animation-normal) ease;
  box-shadow: 0 4px 12px hsl(var(--client-caramel) / 0.3);
}

.btn-caramel:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px hsl(var(--client-caramel) / 0.4);
}

.btn-outline-espresso {
  background: transparent;
  color: hsl(var(--client-espresso));
  border: 2px solid hsl(var(--client-espresso));
  border-radius: 12px;
  padding: 10px 22px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--client-animation-normal) ease;
}

.btn-outline-espresso:hover {
  background: hsl(var(--client-espresso));
  color: white;
}

/* ===== Category Pills ===== */
.category-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--client-animation-fast) ease;
  background: hsl(var(--client-latte));
  color: hsl(var(--client-text-secondary));
  border: 1px solid transparent;
}

.category-pill:hover {
  background: hsl(var(--client-caramel-light));
  color: hsl(var(--client-text));
}

.category-pill.active {
  background: hsl(var(--client-espresso));
  color: white;
  border-color: hsl(var(--client-espresso));
}

/* ===== Floating Cart Button ===== */
.floating-cart {
  position: fixed;
  bottom: calc(env(safe-area-inset-bottom, 0px) + 80px);
  right: 16px;
  width: 56px;
  height: 56px;
  border-radius: 28px;
  background: linear-gradient(135deg, hsl(var(--client-espresso)), hsl(var(--client-espresso-dark)));
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow:
    0 4px 16px hsl(var(--client-espresso) / 0.4),
    0 8px 32px hsl(var(--client-shadow-color) / 0.2);
  transition: all var(--client-animation-normal) cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 50;
}

.floating-cart:hover {
  transform: scale(1.1);
  box-shadow:
    0 8px 24px hsl(var(--client-espresso) / 0.5),
    0 12px 48px hsl(var(--client-shadow-color) / 0.25);
}

.floating-cart .badge {
  position: absolute;
  top: -4px;
  right: -4px;
  min-width: 20px;
  height: 20px;
  border-radius: 10px;
  background: hsl(var(--client-berry));
  color: white;
  font-size: 11px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 6px;
}

/* ===== Glassmorphism Bottom Nav ===== */
.glass-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 12px 16px calc(env(safe-area-inset-bottom, 0px) + 12px);
  background: hsl(var(--client-milk) / 0.85);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-top: 1px solid hsl(var(--client-latte) / 0.8);
  z-index: 100;
}

.glass-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 16px;
  color: hsl(var(--client-text-muted));
  transition: all var(--client-animation-fast) ease;
  cursor: pointer;
}

.glass-nav-item:hover {
  color: hsl(var(--client-text-secondary));
}

.glass-nav-item.active {
  color: hsl(var(--client-espresso));
}

.glass-nav-item.active::after {
  content: '';
  position: absolute;
  bottom: 4px;
  width: 4px;
  height: 4px;
  border-radius: 2px;
  background: hsl(var(--client-espresso));
}

/* Center elevated QR button */
.glass-nav-center {
  position: relative;
  top: -20px;
  width: 56px;
  height: 56px;
  border-radius: 28px;
  background: linear-gradient(135deg, hsl(var(--client-espresso)), hsl(var(--client-espresso-dark)));
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 4px 16px hsl(var(--client-espresso) / 0.4),
    0 8px 24px hsl(var(--client-shadow-color) / 0.15);
  transition: all var(--client-animation-normal) ease;
}

.glass-nav-center:hover {
  transform: scale(1.1);
}

.glass-nav-center:active {
  transform: scale(0.95);
}

/* ===== Product Card ===== */
.product-card {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  background: hsl(var(--client-milk));
  box-shadow:
    0 2px 8px hsl(var(--client-shadow-color) / 0.06),
    0 4px 16px hsl(var(--client-shadow-color) / 0.04);
  transition: all var(--client-animation-normal) cubic-bezier(0.4, 0, 0.2, 1);
}

.product-card:hover {
  transform: translateY(-4px);
  box-shadow:
    0 8px 24px hsl(var(--client-shadow-color) / 0.1),
    0 16px 48px hsl(var(--client-shadow-color) / 0.08);
}

.product-card-image {
  position: relative;
  aspect-ratio: 4/3;
  overflow: hidden;
}

.product-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--client-animation-slow) ease;
}

.product-card:hover .product-card-image img {
  transform: scale(1.05);
}

.product-card-badge {
  position: absolute;
  top: 12px;
  left: 12px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  background: hsl(var(--client-mint));
  color: white;
}

.product-card-favorite {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 36px;
  height: 36px;
  border-radius: 18px;
  background: hsl(var(--client-milk) / 0.9);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--client-animation-fast) ease;
  color: hsl(var(--client-text-muted));
}

.product-card-favorite:hover,
.product-card-favorite.active {
  color: hsl(var(--client-berry));
  background: hsl(var(--client-berry-light) / 0.3);
}

.product-card-content {
  padding: 16px;
}

.product-card-name {
  font-weight: 600;
  font-size: 16px;
  color: hsl(var(--client-text));
  margin-bottom: 4px;
}

.product-card-description {
  font-size: 14px;
  color: hsl(var(--client-text-secondary));
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.product-card-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 12px;
}

.product-card-price {
  font-size: 18px;
  font-weight: 700;
  color: hsl(var(--client-espresso));
}

.product-card-add {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: hsl(var(--client-espresso));
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--client-animation-fast) ease;
}

.product-card-add:hover {
  background: hsl(var(--client-espresso-dark));
  transform: scale(1.1);
}

/* ===== Quantity Controls ===== */
.quantity-controls {
  display: flex;
  align-items: center;
  gap: 12px;
  background: hsl(var(--client-latte));
  border-radius: 12px;
  padding: 4px;
}

.quantity-btn {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: hsl(var(--client-milk));
  color: hsl(var(--client-espresso));
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--client-animation-fast) ease;
  border: none;
  font-size: 18px;
  font-weight: 600;
}

.quantity-btn:hover {
  background: hsl(var(--client-caramel-light));
}

.quantity-btn:active {
  transform: scale(0.9);
}

.quantity-value {
  min-width: 24px;
  text-align: center;
  font-weight: 600;
  font-size: 16px;
  color: hsl(var(--client-text));
}

/* ===== Loyalty Badge ===== */
.loyalty-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 13px;
  font-weight: 600;
}

.loyalty-badge.bronze {
  background: linear-gradient(135deg, #CD7F32, #A0522D);
  color: white;
}

.loyalty-badge.silver {
  background: linear-gradient(135deg, #C0C0C0, #A8A8A8);
  color: #333;
}

.loyalty-badge.gold {
  background: linear-gradient(135deg, hsl(var(--client-gold)), hsl(var(--client-gold-light)));
  color: #333;
}

.loyalty-badge.platinum {
  background: linear-gradient(135deg, #E5E4E2, #B0B0B0);
  color: #333;
}

/* ===== Points Display ===== */
.points-display {
  display: flex;
  align-items: center;
  gap: 4px;
  color: hsl(var(--client-gold));
  font-weight: 600;
}

.points-display svg {
  color: hsl(var(--client-gold));
}

/* ===== Promotional Banner ===== */
.promo-banner {
  background: linear-gradient(135deg, hsl(var(--client-mint)), hsl(var(--client-mint-light)));
  border-radius: 20px;
  padding: 20px 24px;
  color: white;
  position: relative;
  overflow: hidden;
}

.promo-banner::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -20%;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: hsl(var(--client-milk) / 0.1);
}

.promo-banner-title {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 4px;
}

.promo-banner-text {
  font-size: 14px;
  opacity: 0.9;
}

/* ===== Animations ===== */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp var(--client-animation-normal) ease forwards;
}

.animate-scale-in {
  animation: scaleIn var(--client-animation-normal) ease forwards;
}

.animate-slide-in-right {
  animation: slideInRight var(--client-animation-normal) ease forwards;
}

/* Staggered children */
.stagger-children > * {
  opacity: 0;
  animation: fadeInUp var(--client-animation-normal) ease forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }

/* ===== Responsive ===== */
@media (max-width: 640px) {
  .client-theme .text-display {
    font-size: 2rem;
  }

  .coffee-card {
    padding: 0.75rem;
  }

  .product-card-content {
    padding: 12px;
  }
}

/* ===== Print styles ===== */
@media print {
  .floating-cart,
  .glass-nav {
    display: none !important;
  }
}
