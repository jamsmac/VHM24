# VendHub Manager - –ê—É–¥–∏—Ç –ò—Å—Ç–æ—Ä–∏–∏ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-12-27
> **–í–µ—Ä—Å–∏—è**: 1.0.0
> **–¶–µ–ª—å**: –í—ã—è–≤–ª–µ–Ω–∏–µ –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –æ—Ü–µ–Ω–∫–∞ AI-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—ç–∫–ª–æ–≥

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–†–µ–∑—é–º–µ –∞–Ω–∞–ª–∏–∑–∞](#1-—Ä–µ–∑—é–º–µ-–∞–Ω–∞–ª–∏–∑–∞)
2. [TODO/FIXME –≤ –∫–æ–¥–µ](#2-todofixme-–≤-–∫–æ–¥–µ)
3. [AI-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#3-ai-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∏-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
4. [–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å vs –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ](#4-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å-vs-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
5. [–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—ç–∫–ª–æ–≥](#5-–∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–±—ç–∫–ª–æ–≥)
6. [–û—Ü–µ–Ω–∫–∞ AI-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏](#6-–æ—Ü–µ–Ω–∫–∞-ai-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
7. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#7-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

---

## 1. –†–µ–∑—é–º–µ –∞–Ω–∞–ª–∏–∑–∞

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å —Ñ—É–Ω–∫—Ü–∏–π** | 50+ |
| **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** | ~35 (70%) |
| **–í –ø—Ä–æ—Ü–µ—Å—Å–µ** | ~10 (20%) |
| **–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** | ~15 (30%) |
| **AI-–∞–≥–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ** | 8 |
| **AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–æ** | 6 |
| **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥** | 12 –ø—É–Ω–∫—Ç–æ–≤ |

### –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

1. **–û–±—à–∏—Ä–Ω–∞—è AI-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –ù–∞–π–¥–µ–Ω–æ 8 –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ + –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è 6 AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
2. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞** - –ë–æ–Ω—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
3. **Franchise/Multi-tenant –æ—Ç–ª–æ–∂–µ–Ω** - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –≤ Sprint 4, –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
4. **Mobile app –Ω–∞ 25%** - –û—Å–Ω–æ–≤–∞ –µ—Å—Ç—å, —ç–∫—Ä–∞–Ω—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

---

## 2. TODO/FIXME –≤ –∫–æ–¥–µ

### Backend TODO (15 –Ω–∞–π–¥–µ–Ω–æ)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|------|----------|-------------|
| `telegram/services/user-linking.service.ts` | TODO: Add rate limiting for linking attempts | üü° Medium |
| `intelligent-import/agents/classification.agent.ts` | TODO: Add ML-based classification | üü¢ Low |
| `intelligent-import/agents/suggestion.agent.ts` | TODO: Implement AI suggestions | üü¢ Low |
| `intelligent-import/agents/learning.agent.ts` | TODO: Implement learning loop | üü¢ Low |
| `notifications/templates/` | TODO: Add more notification templates | üü° Medium |
| `commission/commission.service.ts` | TODO: Add penalty calculations | üü° Medium |
| `reports/pdf-generator.service.ts` | TODO: Add charts to PDF | üü¢ Low |

### Frontend TODO (8 –Ω–∞–π–¥–µ–Ω–æ)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|------|----------|-------------|
| `components/layout/Sidebar.tsx` | TODO: Group navigation items | üî¥ High |
| `components/machines/MachineCard.tsx` | TODO: Add offline indicator | üü° Medium |
| `lib/utils.ts` | FIXME: Currency RUB ‚Üí UZS | üî¥ High |
| `types/users.ts` | FIXME: Role enum mismatch | üî¥ High |
| `app/dashboard/map/page.tsx` | TODO: Add clustering for markers | üü° Medium |

### Mobile TODO (5 –Ω–∞–π–¥–µ–Ω–æ)

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|------|----------|-------------|
| `screens/Staff/TaskListScreen.tsx` | TODO: Implement filters | üü° Medium |
| `services/syncQueue.ts` | TODO: Add retry logic | üü° Medium |
| `store/auth.store.ts` | TODO: Add biometric auth | üü¢ Low |

---

## 3. AI-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 3.1 Intelligent Import System (8 –∞–≥–µ–Ω—Ç–æ–≤)

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `backend/src/modules/intelligent-import/`

```
intelligent-import/
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îú‚îÄ‚îÄ file-intake.agent.ts       ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ classification.agent.ts    ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ - TODO: ML-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ validation.agent.ts        ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ suggestion.agent.ts        ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ - TODO: AI-–ø–æ–¥—Å–∫–∞–∑–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ ux-approval.agent.ts       ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ execution.agent.ts         ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ reconciliation.agent.ts    ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –°–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ learning.agent.ts          ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ - TODO: –û–±—É—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îî‚îÄ‚îÄ import.workflow.ts         ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ entities/
‚îÇ   ‚îî‚îÄ‚îÄ import-session.entity.ts   ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω
‚îî‚îÄ‚îÄ interfaces/
    ‚îú‚îÄ‚îÄ agent.interface.ts         ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω
    ‚îî‚îÄ‚îÄ common.interface.ts        ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω
```

**–°—Ç–∞—Ç—É—Å**: 70% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, 30% —Ç—Ä–µ–±—É–µ—Ç AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 3.2 AI Provider Keys (6 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `backend/src/modules/settings/entities/ai-provider-key.entity.ts`

```typescript
export enum AIProvider {
  OPENAI = 'openai',
  ANTHROPIC = 'anthropic',
  PERPLEXITY = 'perplexity',
  GOOGLE = 'google',
  MISTRAL = 'mistral',
  CUSTOM = 'custom',
}
```

**–§—É–Ω–∫—Ü–∏–∏**:
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ API-–∫–ª—é—á–µ–π (AES-256-GCM)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–ª—é—á–µ–π –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–≥–µ–Ω—Ç–∞–º–∏ –∏–º–ø–æ—Ä—Ç–∞ - —á–∞—Å—Ç–∏—á–Ω–æ
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 3.3 –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ AI-—Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

| –§—É–Ω–∫—Ü–∏—è | –ò—Å—Ç–æ—á–Ω–∏–∫ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–∞ | intelligent-import | ‚ö†Ô∏è TODO |
| AI-–ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ | intelligent-import | ‚ö†Ô∏è TODO |
| Machine Learning –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ | learning.agent.ts | ‚ö†Ô∏è TODO |
| –ß–∞—Ç-–±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –ù–µ –Ω–∞–π–¥–µ–Ω–æ | ‚ùå –ù–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ | –ù–µ –Ω–∞–π–¥–µ–Ω–æ | ‚ùå –ù–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ | –ù–µ –Ω–∞–π–¥–µ–Ω–æ | ‚ùå –ù–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å |

---

## 4. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å vs –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 4.1 Backend –º–æ–¥—É–ª–∏

| –ú–æ–¥—É–ª—å | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –°—Ç–∞—Ç—É—Å |
|--------|---------------|-------------|--------|
| Auth + JWT + 2FA | ‚úÖ | ‚úÖ | 100% |
| Users + RBAC | ‚úÖ | ‚úÖ | 100% |
| Machines | ‚úÖ | ‚úÖ | 95% |
| Tasks + Photo Validation | ‚úÖ | ‚úÖ | 100% |
| 3-Level Inventory | ‚úÖ | ‚úÖ | 100% |
| Transactions | ‚úÖ | ‚úÖ | 90% |
| Incidents | ‚úÖ | ‚úÖ | 100% |
| Complaints (QR) | ‚úÖ | ‚úÖ | 100% |
| Commission System | ‚úÖ | ‚úÖ | 95% |
| Telegram Bot | ‚úÖ | ‚ö†Ô∏è | 80% |
| Intelligent Import | ‚úÖ | ‚ö†Ô∏è | 70% |
| **Client Platform** | ‚úÖ | ‚ö†Ô∏è | **40%** |
| **Franchise System** | ‚úÖ | ‚ùå | **0%** |
| **Loyalty/Bonuses** | ‚úÖ | ‚ùå | **0%** |

### 4.2 Frontend —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –°—Ç–∞—Ç—É—Å |
|---------|---------------|-------------|--------|
| Dashboard | ‚úÖ | ‚úÖ | 95% |
| Machines CRUD | ‚úÖ | ‚úÖ | 90% |
| Tasks Management | ‚úÖ | ‚úÖ | 85% |
| Inventory Views | ‚úÖ | ‚úÖ | 85% |
| Reports | ‚úÖ | ‚ö†Ô∏è | 70% |
| **Grouped Sidebar** | ‚úÖ | ‚ùå | **0%** |
| **Excel Export** | ‚úÖ | ‚ùå | **0%** |
| **Product Tour** | ‚úÖ | ‚ùå | **0%** |
| **Customer Cabinet** | ‚úÖ | ‚ùå | **0%** |
| Mobile Responsive | ‚úÖ | ‚ö†Ô∏è | 60% |

### 4.3 Mobile App —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –°—Ç–∞—Ç—É—Å |
|---------|---------------|-------------|--------|
| Auth Flow | ‚úÖ | ‚úÖ | 100% |
| API Integration | ‚úÖ | ‚úÖ | 90% |
| Task List | ‚úÖ | ‚ö†Ô∏è | 40% |
| Task Detail | ‚úÖ | ‚ùå | 0% |
| Camera (Photo) | ‚úÖ | ‚ö†Ô∏è | 30% |
| Offline Mode | ‚úÖ | ‚ö†Ô∏è | 20% |
| Push Notifications | ‚úÖ | ‚ùå | 0% |
| GPS Tracking | ‚úÖ | ‚ö†Ô∏è | 30% |

---

## 5. –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—ç–∫–ª–æ–≥

### 5.1 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P0 (BLOCKER) - 3—á

| ID | –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|--------|--------|----------|
| B.1 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å Role Mismatch (frontend vs backend) | 1—á | VHM24-MASTER-PLAN |
| B.2 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å Currency RUB ‚Üí UZS | 1—á | VHM24-MASTER-PLAN |
| B.3 | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã frontend/backend | 1—á | Code Analysis |

### 5.2 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P1 (HIGH) - 20—á

| ID | –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|--------|--------|----------|
| H.1 | Collapsible Sidebar —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π | 3—á | VHM24-MASTER-PLAN |
| H.2 | Excel/CSV Export –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | 2—á | VHM24-MASTER-PLAN |
| H.3 | Product Tour (Onboarding) | 3—á | VHM24-MASTER-PLAN |
| H.4 | Mobile: TaskListScreen —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ | 4—á | ACTION_PLAN_100 |
| H.5 | Mobile: TaskDetailScreen | 4—á | ACTION_PLAN_100 |
| H.6 | E2E —Ç–µ—Å—Ç—ã –¥–ª—è commission flow | 4—á | ACTION_PLAN_100 |

### 5.3 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P2 (MEDIUM) - 35—á

| ID | –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|--------|--------|----------|
| M.1 | Customer Cabinet (/my/*) | 8—á | VHM24-MASTER-PLAN |
| M.2 | Telegram Bot v2 (–∫–æ–º–∞–Ω–¥—ã –∫–æ–º–∏—Å—Å–∏–π) | 4—á | ACTION_PLAN_100 |
| M.3 | InlineCreateSelect –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | 3—á | VHM24-MASTER-PLAN |
| M.4 | Mobile: Camera + Photo Validation | 4—á | ACTION_PLAN_100 |
| M.5 | Mobile: Offline Queue | 4—á | ACTION_PLAN_100 |
| M.6 | Mobile: Push Notifications | 4—á | ACTION_PLAN_100 |
| M.7 | AI Integration –¥–ª—è Import Agents | 4—á | intelligent-import |
| M.8 | Map Clustering –¥–ª—è –º–∞—à–∏–Ω | 4—á | Frontend TODO |

### 5.4 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç P3 (LOW) - 50—á

| ID | –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|--------|--------|----------|
| L.1 | Franchise/Multi-tenant System | 16—á | VHM24-MASTER-PLAN |
| L.2 | Loyalty/Bonus System | 12—á | VHM24-MASTER-PLAN |
| L.3 | PDF Reports —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ | 4—á | Backend TODO |
| L.4 | Biometric Auth (Mobile) | 4—á | Mobile TODO |
| L.5 | ML Classification –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ | 8—á | intelligent-import |
| L.6 | Notification Templates (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ) | 4—á | Backend TODO |
| L.7 | Video Tutorials | 2—á | ACTION_PLAN_100 |

### 5.5 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π–Ω—ã–π –¥–æ–ª–≥ - 15—á

| ID | –ó–∞–¥–∞—á–∞ | –û—Ü–µ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|----|--------|--------|----------|
| D.1 | Rate limiting –¥–ª—è Telegram linking | 2—á | Backend TODO |
| D.2 | Retry logic –¥–ª—è Mobile sync | 2—á | Mobile TODO |
| D.3 | TypeScript strict mode fixes | 4—á | Code Analysis |
| D.4 | Integration tests coverage | 4—á | ACTION_PLAN_100 |
| D.5 | Load testing –¥–ª—è 1000+ contracts | 3—á | ACTION_PLAN_100 |

---

## 6. –û—Ü–µ–Ω–∫–∞ AI-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### 6.1 –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: **75/100**

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 90% | 6 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, UI –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| –ê–≥–µ–Ω—Ç—ã –∏–º–ø–æ—Ä—Ç–∞ | 70% | 8 –∞–≥–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã, AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–∞—Å—Ç–∏—á–Ω–∞ |
| –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è | 60% | –°—Ç—Ä—É–∫—Ç—É—Ä—ã –µ—Å—Ç—å, –¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ |
| API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 50% | –ö–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 80% | –•–æ—Ä–æ—à–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ |

### 6.2 –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **–ì–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ AI Provider Keys**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OpenAI, Anthropic, Perplexity, Google, Mistral
   - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π AES-256-GCM
   - UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞–º–∏

2. **8-–∞–≥–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–∞**
   - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è AI
   - Workflow –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
   - 114 —Å—É—â–Ω–æ—Å—Ç–µ–π
   - –ß—ë—Ç–∫–∏–µ —Ç–∏–ø—ã
   - –•–æ—Ä–æ—à–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### 6.3 –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AI

| –¢–æ—á–∫–∞ | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-------|------------|--------------|
| ClassificationAgent | 80% | –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ LLM –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤ |
| SuggestionAgent | 70% | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPT –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π |
| LearningAgent | 60% | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ |
| Telegram Bot | 50% | –î–æ–±–∞–≤–∏—Ç—å AI-–æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã |
| Reports | 40% | AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∏–Ω—Å–∞–π—Ç—ã |
| Search | 30% | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –¥–∞–Ω–Ω—ã–º |

### 6.4 –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π AI Stack

```typescript
// –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

// 1. LangChain –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
import { ChatOpenAI, ChatAnthropic } from "langchain/chat_models";

// 2. –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
const aiProvider = await aiProviderKeyService.getActiveProvider();
const model = aiProvider === 'anthropic'
  ? new ChatAnthropic({ apiKey: await getDecryptedKey() })
  : new ChatOpenAI({ apiKey: await getDecryptedKey() });

// 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∞–≥–µ–Ω—Ç–∞—Ö
class ClassificationAgentWithAI extends ClassificationAgent {
  async classifyWithAI(data: ParsedData): Promise<DomainType> {
    const response = await model.invoke([
      { role: 'system', content: CLASSIFICATION_PROMPT },
      { role: 'user', content: JSON.stringify(data.preview) }
    ]);
    return this.parseDomainFromResponse(response);
  }
}
```

---

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 7.1 –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–ª–æ–∫–µ—Ä—ã (P0)** - 3—á
   - Role mismatch
   - Currency RUB ‚Üí UZS
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤

2. **–ó–∞–≤–µ—Ä—à–∏—Ç—å UI/UX Sprint 1** - 11—á
   - Grouped Sidebar
   - Excel Export
   - Product Tour

3. **–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Mobile** - 12—á
   - TaskListScreen
   - TaskDetailScreen
   - Camera integration

### 7.2 –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (3-4 –Ω–µ–¥–µ–ª–∏)

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AI –≤ Import Agents**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É AI Provider Keys
   - –î–æ–±–∞–≤–∏—Ç—å LangChain –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏

2. **–ó–∞–≤–µ—Ä—à–∏—Ç—å Client Platform**
   - Customer Cabinet
   - –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
   - –ë–∞–∑–æ–≤—ã–µ –±–æ–Ω—É—Å—ã

3. **Mobile Production Ready**
   - Offline mode
   - Push notifications
   - App Store builds

### 7.3 –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞)

1. **Franchise System (Sprint 4)**
   - Multi-tenant –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - Organization isolation
   - White-label options

2. **Advanced AI Features**
   - Predictive maintenance
   - Sales analytics with AI
   - Chatbot support

3. **Full Loyalty System**
   - Points accumulation
   - Tiers (Bronze ‚Üí Platinum)
   - Promotions engine

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### A. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞

1. `.claude/ACTION_PLAN_100.md` - –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –¥–æ 100%
2. `docs/archive/misc/COMPREHENSIVE_TODO.md` - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ TODO
3. `docs/231225/VHM24-MASTER-PLAN.md` - Master –ø–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. `docs/231225/VENDHUB-ECOSYSTEM-FINAL.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã
5. `backend/src/modules/intelligent-import/` - AI –∞–≥–µ–Ω—Ç—ã
6. `backend/src/modules/settings/entities/ai-provider-key.entity.ts` - AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### B. –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ß–∞—Å—ã | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|------|-------------|
| P0 (Blockers) | 3—á | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| P1 (High) | 20—á | –í–∞–∂–Ω–æ –¥–ª—è UX |
| P2 (Medium) | 35—á | –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∑–æ–Ω–∞ + Mobile |
| P3 (Low) | 50—á | Franchise + AI |
| Tech Debt | 15—á | –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ |
| **–ò–¢–û–ì–û** | **123—á** | ~3 –Ω–µ–¥–µ–ª–∏ full-time |

### C. Git Branches –∞–Ω–∞–ª–∏–∑

```
–í–µ—Ç–∫–∞: claude/analyze-vhm24-project-3QwgX (—Ç–µ–∫—É—â–∞—è)

–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–æ–º–º–∏—Ç—ã:
- 7c4001d docs: add comprehensive project analysis report
- 685469f refactor(telegram): extract admin approval callbacks
- 30cfa69 test(telegram): add comprehensive tests
- da50d61 refactor(telegram): extract task step callbacks
- 15031f7 refactor(telegram): extract callback handlers
```

–î—Ä—É–≥–∏—Ö feature-–≤–µ—Ç–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥—ë—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–µ.

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω**: 2025-12-27
**–ê–≤—Ç–æ—Ä**: Claude Code Analysis
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –¥–ª—è review

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: –ß–¢–û –ï–°–¢–¨ vs –ß–¢–û –ü–õ–ê–ù–ò–†–û–í–ê–õ–û–°–¨

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–ï–°–¢–¨) | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å (–ù–ï –í–û–®–õ–û) |
|-----------|-------------------|--------------------------|
| **Backend** | 48 –º–æ–¥—É–ª–µ–π, 114 entities, 500+ endpoints | Franchise multi-tenant, Full loyalty system |
| **Frontend** | Dashboard, Machines, Tasks, Inventory, Transactions | Grouped Sidebar, Excel Export, Product Tour, Customer Cabinet |
| **Mobile** | Auth, API integration, Navigation | Full screens, Offline mode, Push, Camera |
| **Telegram** | Basic commands, Notifications | Commission commands, Customer commands v2 |
| **AI** | 8 import agents (partial), 6 AI providers config | Full AI classification, ML learning, AI analytics |
| **DevOps** | Docker, Railway, Prometheus/Grafana | Auto-scaling, DR testing, CDN |
