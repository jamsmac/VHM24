# ============================================================================
# VendHub Manager Backend - Environment Configuration
# ============================================================================
# Copy to .env and fill in your values
# NEVER commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Application
# ----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000

# ----------------------------------------------------------------------------
# Database - PostgreSQL
# ----------------------------------------------------------------------------
# Option 1: Connection URL (Railway, Supabase, etc.)
DATABASE_URL=postgresql://user:password@host:5432/database

# Option 2: Separate values (for docker-compose)
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_USER=vendhub
# DATABASE_PASSWORD=vendhub_password
# DATABASE_NAME=vendhub_db

# Connection Pool
DB_POOL_MIN=5
DB_POOL_MAX=20

# ----------------------------------------------------------------------------
# Redis
# ----------------------------------------------------------------------------
# Option 1: Connection URL (Railway, Upstash)
REDIS_URL=redis://localhost:6379

# Option 2: Separate values
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ----------------------------------------------------------------------------
# JWT Authentication
# ----------------------------------------------------------------------------
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change_this_to_random_64_char_string
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# ----------------------------------------------------------------------------
# 2FA Encryption
# ----------------------------------------------------------------------------
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=change_this_to_random_32_byte_hex_string

# ----------------------------------------------------------------------------
# Telegram Bot
# ----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_ADMIN_CHAT_ID=your_admin_chat_id
TELEGRAM_ADMIN_USERNAME=@your_username

# ----------------------------------------------------------------------------
# S3 Storage (Cloudflare R2 / MinIO / AWS S3)
# ----------------------------------------------------------------------------
# For Cloudflare R2:
# S3_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
# S3_REGION=auto

# For MinIO (local dev):
S3_ENDPOINT=http://localhost:9000
S3_BUCKET=vendhub
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
S3_PUBLIC_URL=

# ----------------------------------------------------------------------------
# Frontend
# ----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:3001

# ----------------------------------------------------------------------------
# CORS
# ----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:3001,http://localhost:3000

# ----------------------------------------------------------------------------
# Rate Limiting
# ----------------------------------------------------------------------------
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# ----------------------------------------------------------------------------
# File Upload
# ----------------------------------------------------------------------------
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf

# ----------------------------------------------------------------------------
# Scheduled Tasks
# ----------------------------------------------------------------------------
ENABLE_SCHEDULED_TASKS=true
NOTIFICATION_CHECK_INTERVAL=*/5 * * * *
LOW_STOCK_CHECK_INTERVAL=0 */6 * * *
OVERDUE_TASK_CHECK_INTERVAL=0 * * * *

# ----------------------------------------------------------------------------
# Web Push (VAPID)
# ----------------------------------------------------------------------------
# Generate: npm run generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=admin@vendhub.com

# ----------------------------------------------------------------------------
# Email (Optional)
# ----------------------------------------------------------------------------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@vendhub.com

# ----------------------------------------------------------------------------
# Monitoring (Optional)
# ----------------------------------------------------------------------------
LOG_LEVEL=info
SENTRY_DSN=
