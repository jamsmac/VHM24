---
name: vhm24-orchestrator
description: |
  VendHub OS Skill Orchestrator - координирует все VHM24 скиллы для создания полного UI.
  Анализирует задачу, создаёт план выполнения с назначением скиллов, отслеживает прогресс.
  Использовать при получении запроса на новый экран/модуль VendHub или комплексную задачу.
---

# VendHub Skill Orchestrator

Интеллектуальный координатор всех VendHub скиллов для создания качественного UI.

## Назначение

Превращает запросы на разработку VendHub UI в структурированные планы с использованием специализированных скиллов. Обеспечивает правильную последовательность: Спецификация → Код → Проверка.

## Когда использовать

Активировать при:
- Запросе на создание нового экрана VendHub
- Разработке нового модуля или функции
- Комплексной задаче с несколькими экранами
- Рефакторинге существующих экранов
- Запросе "сделай экран для..."

## Доступные VendHub скиллы

### Основной поток

| Скилл | Назначение | Когда |
|-------|-----------|-------|
| `vhm24-ux-spec` | UX спецификация | ПЕРЕД кодом |
| `vhm24-ui-generator` | Генерация кода | После спецификации |
| `vhm24-qa-review` | Проверка качества | После генерации |

### Специализированные скиллы

| Скилл | Назначение |
|-------|-----------|
| `vhm24-db-expert` | Схема БД, Drizzle ORM, запросы |
| `vhm24-api-generator` | tRPC роуты и процедуры |
| `vhm24-component-lib` | Кастомные shadcn/ui компоненты |
| `vhm24-i18n` | Русская локализация |
| `vhm24-testing` | Тесты для React/tRPC |

## Рабочий процесс

### Фаза 1: Анализ задачи

При получении запроса определить:

1. **Тип задачи**:
   - Новый экран (требует полный поток)
   - Доработка экрана (частичный поток)
   - Новый API (без UI)
   - Компонент (без полного экрана)

2. **Сложность**:
   - Простая: 1-2 скилла
   - Средняя: 3-4 скилла
   - Сложная: 5+ скиллов

3. **Зависимости**:
   - Какие данные нужны из БД
   - Какие API endpoints
   - Связь с другими экранами

### Фаза 2: План выполнения

Создать файл `EXECUTION_PLAN.md`:

```markdown
# План: [Название экрана/задачи]

## Обзор
- **Цель**: [Что создаём]
- **Сложность**: [Простая/Средняя/Сложная]
- **Шагов**: [Количество]
- **Создано**: [Дата]

## Прогресс

### Шаг 1: UX Спецификация
- [ ] **Статус**: Ожидание
- **Скилл**: `vhm24-ux-spec`
- **Действие**: Создать спецификацию экрана
- **Выход**: Файл спецификации .md

### Шаг 2: API Роуты
- [ ] **Статус**: Ожидание
- **Скилл**: `vhm24-api-generator`
- **Действие**: Создать tRPC процедуры
- **Зависимость**: Шаг 1

### Шаг 3: Генерация UI
- [ ] **Статус**: Ожидание
- **Скилл**: `vhm24-ui-generator`
- **Действие**: Создать React компоненты
- **Зависимость**: Шаги 1, 2

### Шаг 4: QA Проверка
- [ ] **Статус**: Ожидание
- **Скилл**: `vhm24-qa-review`
- **Действие**: Проверить качество кода
- **Зависимость**: Шаг 3

---

## Итог
- [ ] Все шаги выполнены
- [ ] Спецификация утверждена
- [ ] Код соответствует стандартам
```

### Фаза 3: Выполнение

#### Последовательный режим (рекомендуется)

Для каждого шага:

1. Прочитать шаг из плана
2. Активировать указанный скилл
3. Выполнить действие
4. Обновить план: `- [ ]` → `- [x]`
5. Перейти к следующему шагу

#### Параллельный режим

Для независимых шагов (пример: API + Компоненты):

```
┌→ vhm24-api-generator ─┐
│                        │
vhm24-ux-spec ──┤                        ├→ vhm24-ui-generator → vhm24-qa-review
│                        │
└→ vhm24-component-lib ─┘
```

## Шаблоны задач

### Новый экран (полный поток)

```
1. vhm24-ux-spec       → Спецификация
2. vhm24-db-expert     → Схема данных (если нужно)
3. vhm24-api-generator → API роуты
4. vhm24-ui-generator  → UI компоненты
5. vhm24-qa-review     → Проверка
```

### Доработка экрана

```
1. vhm24-ux-spec       → Спецификация изменений
2. vhm24-ui-generator  → Изменения кода
3. vhm24-qa-review     → Проверка
```

### Новый API endpoint

```
1. vhm24-db-expert     → Схема данных
2. vhm24-api-generator → tRPC процедуры
3. vhm24-testing       → Тесты API
```

### Новый компонент

```
1. vhm24-component-lib → Дизайн компонента
2. vhm24-ui-generator  → Реализация
3. vhm24-qa-review     → Проверка
```

## Координация скиллов

### Передача контекста

Каждый скилл должен получить:
- Результаты предыдущих шагов
- Ссылки на созданные файлы
- Зависимости и требования

### Обработка ошибок

При ошибке в шаге:
1. Зафиксировать проблему в плане
2. Определить причину
3. Предложить решение или откат
4. Получить подтверждение пользователя

## Примеры

### Пример 1: Экран управления ингредиентами

**Запрос**: "Создай экран для управления ингредиентами"

**План**:
```markdown
### Шаг 1: UX Спецификация
- **Скилл**: `vhm24-ux-spec`
- Проанализировать существующие экраны
- Определить структуру данных ingredients
- Создать wireframe и описание

### Шаг 2: API
- **Скилл**: `vhm24-api-generator`
- ingredients.list, get, create, update, delete

### Шаг 3: UI Генерация
- **Скилл**: `vhm24-ui-generator`
- IngredientsScreen.tsx
- IngredientForm.tsx
- IngredientTable.tsx

### Шаг 4: QA
- **Скилл**: `vhm24-qa-review`
- Проверить TypeScript
- Проверить дизайн-систему
```

### Пример 2: Добавление фильтра к экрану

**Запрос**: "Добавь фильтр по дате к списку заказов"

**План**:
```markdown
### Шаг 1: Спецификация
- **Скилл**: `vhm24-ux-spec`
- Проанализировать OrdersScreen
- Определить параметры фильтра

### Шаг 2: Реализация
- **Скилл**: `vhm24-ui-generator`
- Добавить DateRangePicker
- Обновить запрос к API

### Шаг 3: Проверка
- **Скилл**: `vhm24-qa-review`
```

## Ссылки

- `references/skill_workflows.md` - Детальные потоки для каждого типа задачи
- `references/dependencies.md` - Карта зависимостей между скиллами
